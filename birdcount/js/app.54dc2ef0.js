(function(e){function t(t){for(var n,o,s=t[0],l=t[1],d=t[2],u=0,p=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(p.length)p.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0599":function(e,t,a){},"086d":function(e,t,a){"use strict";var n=a("cf9a"),r=a.n(n);r.a},"1f94":function(e,t,a){"use strict";var n=a("dfba"),r=a.n(n);r.a},"33f6":function(e,t,a){},"54e1":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"component-fade",mode:"out-in"}},["SetupCount"===e.state?a("SetupCount",{attrs:{currentDateAndTime:e.currentDateAndTime},on:{"view-change":e.changeView,"add-setup-info":e.addSetupInfo}}):"BirdCount"===e.state?a("BirdCount",{attrs:{timeElapsed:e.timeElapsed,"bird-data":e.countData.observedBirds,continuedAfterFiveMinutes:e.continuedAfterFiveMinutes},on:{"view-change":e.changeView}}):"CountMetadata"===e.state?a("CountMetadata",{on:{"finish-count":e.finishCount}}):e._e()],1),e.enteringBirdData?a("BirdModal",{attrs:{"bird-data":e.countData.observedBirds,"current-bird":e.currentBird},on:{"view-change":e.changeView,"add-bird-observation":e.addObservation,"add-observation-notes":e.addObservationNotes}}):e._e(),e.fiveMinutesElapsed&&!e.continuedAfterFiveMinutes&&"CountMetadata"!==e.state?a("FiveMinutesElapsed",{on:{"view-change":e.changeView,"continue-count":e.continueCount}}):e._e()],1)},i=[],o=(a("a4d3"),a("e01a"),a("d28b"),a("99af"),a("4de4"),a("b0c0"),a("4fad"),a("e439"),a("dbb4"),a("b64b"),a("d3b7"),a("07ac"),a("ac1f"),a("3ca3"),a("4d90"),a("5319"),a("159b"),a("ddb0"),a("ade3")),s=a("3835"),l=a("4a7a"),d=a.n(l),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[e._m(0),a("div",{staticClass:"content"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.startCount(t)}}},[a("div",{staticClass:"field-wrapper"},[a("label",{attrs:{for:"current-time"}},[e._v(" Start time ")]),a("span",{attrs:{id:"current-time"}},[e._v(" "+e._s(e.currentTime())+" ")])]),e._m(1),a("div",{staticClass:"field-wrapper"},[a("label",{attrs:{for:"location"}},[e._v(" Location ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.location,expression:"location"}],attrs:{type:"text",id:"location"},domProps:{value:e.location},on:{input:function(t){t.target.composing||(e.location=t.target.value)}}})]),a("button",{attrs:{type:"submit",disabled:!e.formIsValid}},[e._v("Start count")])])])])},u=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("span",{staticClass:"title"},[e._v("Get things ready")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-wrapper"},[a("label",{attrs:{for:"duration"}},[e._v(" Duration ")]),a("span",{attrs:{id:"duration"}},[e._v(" 5 minutes ")])])}],p={name:"SetupCount",props:{currentDateAndTime:{type:Date,required:!0}},data:function(){return{date:null,time:null,location:null}},methods:{currentTime:function(){var e=this.currentDateAndTime,t=e.getDate(),a=e.getMonth(),n=e.getFullYear(),r=e.getHours(),i=e.getMinutes(),o=e.getSeconds();return t=String(t).padStart(2,"0"),a=String(a+1).padStart(2,"0"),r=String(r).padStart(2,"0"),i=String(i).padStart(2,"0"),o=String(o).padStart(2,"0"),this.time="".concat(r,":").concat(i,":").concat(o),this.date="".concat(t,"/").concat(a,"/").concat(n),r+":"+i},startCount:function(){this.$emit("add-setup-info",this.date,this.time,"5",this.location),this.$emit("view-change","BirdCount")}},computed:{formIsValid:{get:function(){var e=!1;return null!==this.location&&""!==this.location&&(e=!0),e}}}},m=p,h=(a("086d"),a("2877")),v=Object(h["a"])(m,c,u,!1,null,"33f6a33e",null),f=v.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"header"},[a("span",{staticClass:"title"},[e._v("5m bird count")]),a("span",{staticClass:"time-elapsed"},[e._v(e._s(e.timeElapsed))])]),a("div",{staticClass:"content"},[a("div",[a("v-select",{ref:"birdSelect",attrs:{options:e.allBirds,placeholder:"Add birds to list"},on:{input:e.addBirdToList}})],1),e._l(e.knownBirds,(function(t){return a("div",{key:t.name,staticClass:"bird-info bird-list-item",on:{click:function(a){return e.addBirdData(t)}}},[a("div",{staticClass:"img-wrapper"},[t.img?a("img",{attrs:{src:"images/known-bird-imgs/"+t.img}}):e._e()]),a("span",{staticClass:"title"},[e._v(e._s(t.name))]),a("span",{staticClass:"numbers"},[e._v(e._s(e.getBirdCount(t.name)))])])}))],2),e.continuedAfterFiveMinutes?a("div",{staticClass:"footer"},[a("button",{staticClass:"primary",on:{click:e.enterCountMetadata}},[e._v("Finish Count")])]):e._e()])},g=[],w=(a("7db0"),a("4e82"),a("6ef2")),y=["North Island brown kiwi","Okarito brown kiwi","Southern brown kiwi","Little spotted kiwi","Great spotted kiwi","California quail","Helmeted guineafowl","Chukor","Red-legged partridge","Brown quail","Common pheasant","Peafowl","Wild turkey","Plumed whistling duck","Mute swan","Black swan","Cape Barren goose","Greylag goose","Canada goose","Pink-eared duck","Paradise shelduck","Chestnut-breasted shelduck","Australian wood duck","Muscovy duck","Blue duck","Grey teal","Chestnut teal","Brown teal","Auckland Island teal","Campbell Island teal","Northern pintail","Mallard","Grey duck","Australasian shoveler","Northern shoveler","Australian white-eyed duck","New Zealand scaup","Australasian crested grebe","New Zealand dabchick","Hoary-headed grebe","Australasian little grebe","Emperor penguin","King penguin","Adelie penguin","Gentoo penguin","Chinstrap penguin","Western rockhopper penguin","Eastern rockhopper penguin","Moseley's rockhopper penguin","Fiordland crested penguin","Snares crested penguin","Erect-crested penguin","Macaroni penguin","Royal penguin","Yellow-eyed penguin","Little penguin","Wandering albatross","Antipodean albatross","Southern royal albatross","Northern royal albatross","Black-footed albatross","Laysan albatross","Atlantic yellow-nosed mollymawk","Indian Ocean yellow-nosed mollymawk","Grey-headed mollymawk","Black-browed mollymawk","Campbell black-browed mollymawk","Buller's mollymawk","White-capped mollymawk","Chatham Island mollymawk","Salvin's mollymawk","Sooty albatross","Light-mantled sooty albatross","Southern giant petrel","Northern giant petrel","Northern fulmar","Antarctic fulmar","Antarctic petrel","Cape petrel","Snow petrel","Kerguelen petrel","Grey-faced petrel","White-headed petrel","Providence petrel","Chatham Island taiko","Kermadec petrel","Herald petrel","Phoenix petrel","Soft-plumaged petrel","Mottled petrel","Juan Fernandez petrel","White-naped petrel","Black-winged petrel","Chatham petrel","Cook's petrel","Stejneger's petrel","Pycroft's petrel","Gould's petrel","Blue petrel","Broad-billed prion","Salvin's prion","Antarctic prion","Thin-billed prion","Fairy prion","Fulmar prion","Bulwer's petrel","White-chinned petrel","Westland petrel","Black petrel","Grey petrel","Tahiti petrel","Cory's shearwater","Streaked shearwater","Wedge-tailed shearwater","Buller's shearwater","Flesh-footed shearwater","Pink-footed shearwater","Great shearwater","Sooty shearwater","Short-tailed shearwater","Christmas Island shearwater","Newell's shearwater","Manx shearwater","Fluttering shearwater","Hutton's shearwater","Little shearwater","Subantarctic little shearwater","Wilson's storm petrel","Grey-backed storm petrel","White-faced storm petrel","Kermadec storm petrel","New Zealand storm petrel","Black-bellied storm petrel","White-bellied storm petrel","Leach's storm petrel","Common diving petrel","South Georgian diving petrel","Red-tailed tropicbird","White-tailed tropicbird","Australian pelican","Cape gannet","Australasian gannet","Red-footed booby","Brown booby","Masked booby","Little shag","Black shag","Pied shag","Little black shag","New Zealand king shag","Stewart Island shag","Chatham Island shag","Bounty Island shag","Auckland Island shag","Campbell Island shag","Macquarie Island shag","Spotted shag","Pitt Island shag","Darter","Great frigatebird","Lesser frigatebird","Grey heron","Pacific heron","White heron","Cattle egret","Plumed egret","White-faced heron","Little egret","Reef heron","Nankeen night heron","Australasian bittern","Little bittern","Glossy ibis","White ibis","Straw-necked ibis","Royal spoonbill","Yellow-billed spoonbill","Black kite","Swamp harrier","White-bellied sea eagle","Nankeen kestrel","New Zealand falcon","Unidentified crane","Corncrake","Auckland Island rail","Banded rail","Weka","Spotless crake","Marsh crake","Australian crake","Black-tailed native-hen","Common moorhen","Dusky moorhen","Pukeko","South Island takahe","Australian coot","Chatham Island snipe","Snares Island snipe","Subantarctic snipe","Japanese snipe","Lesser knot","Great knot","Sanderling","Dunlin","Curlew sandpiper","Stilt sandpiper","Sharp-tailed sandpiper","Pectoral sandpiper","Baird's sandpiper","White-rumped sandpiper","Little stint","Red-necked stint","Long-toed stint","Least sandpiper","Semipalmated sandpiper","Western sandpiper","Broad-billed sandpiper","Buff-breasted sandpiper","Ruff","Asiatic dowitcher","Eastern curlew","Whimbrel","Little whimbrel","Bristle-thighed curlew","Bar-tailed godwit","Black-tailed godwit","Hudsonian godwit","Upland sandpiper","Wandering tattler","Grey-tailed tattler","Common sandpiper","Common greenshank","Marsh sandpiper","Lesser yellowlegs","Terek sandpiper","Ruddy turnstone","Grey phalarope","Red-necked phalarope","Wilson's phalarope","Painted snipe","Variable oystercatcher","South Island pied oystercatcher","Chatham Island oystercatcher","Pied stilt","Black stilt","Red-necked avocet","Pacific golden plover","American golden plover","Grey plover","New Zealand dotterel","Semipalmated plover","Red-capped plover","Banded dotterel","Lesser sand plover","Greater sand plover","Oriental dotterel","Wrybill","Black-fronted dotterel","Shore plover","Red-kneed dotterel","Spur-winged plover","Oriental pratincole","Subantarctic skua","South Polar skua","Pomarine skua","Arctic skua","Long-tailed skua","Pacific gull","Southern black-backed gull","Laughing gull","Franklin's gull","Red-billed gull","Black-billed gull","Brown noddy","Black noddy","Grey noddy","White tern","Sooty tern","Grey-backed tern","Bridled tern","Little tern","Fairy tern","Gull-billed tern","Caspian tern","White-winged black tern","Whiskered tern","Black-fronted tern","White-fronted tern","Antarctic tern","Arctic tern","Common tern","Crested tern","Rock pigeon","Barbary dove","Spotted dove","New Zealand pigeon","Chatham Island pigeon","Kakapo","Kaka","Kea","Sulphur-crested cockatoo","Galah","Rose-ringed parakeet","Crimson rosella","Eastern rosella","Red-crowned parakeet","Yellow-crowned parakeet","Orange-fronted parakeet","Forbes' parakeet","Antipodes Island parakeet","Reischek's parakeet","Rainbow lorikeet","Oriental cuckoo","Pallid cuckoo","Fan-tailed cuckoo","Shining cuckoo","Long-tailed cuckoo","Channel-billed cuckoo","Morepork","Little owl","Barn owl","White-throated needletail","Fork-tailed swift","Laughing kookaburra","Sacred kingfisher","Dollarbird","Rifleman","Rock wren","North Island kokako","South Island kokako","North Island saddleback","South Island saddleback","Stitchbird","Grey warbler","Chatham Island warbler","Bellbird","Tui","Red wattlebird","Black-faced cuckoo-shrike","White-winged triller","Whitehead","Yellowhead","Brown creeper","Australian magpie","Masked woodswallow","White-browed woodswallow","Dusky woodswallow","New Zealand fantail","Willie wagtail","Rook","Satin flycatcher","Black-faced monarch","Magpie-lark","Tomtit","North Island robin","South Island robin","Black robin","Eurasian skylark","Australian reed warbler","Fernbird","Silvereye","Welcome swallow","Fairy martin","Tree martin","Red-vented bulbul","Eurasian blackbird","Song thrush","Common starling","Common myna","House sparrow","New Zealand pipit","Dunnock","Chaffinch","European greenfinch","European goldfinch","Common redpoll","Yellowhammer","Cirl bunting"],k={name:"BirdCount",props:{timeElapsed:{type:String,required:!0},birdData:{type:Object,required:!0},continuedAfterFiveMinutes:{type:Boolean,required:!0}},data:function(){return{knownBirds:w,allBirds:y}},methods:{addBirdData:function(e){this.$emit("view-change","BirdModal",e)},addBirdToList:function(e){if(null!==e){var t={img:"",name:e};this.knownBirds.find((function(t){return t.name===e}))||(this.knownBirds.push(t),this.knownBirds.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}))),this.addBirdData(t),this.$refs.birdSelect.clearSelection()}},getBirdCount:function(e){if(this.birdData[e]){var t=this.birdData[e],a=t.seen,n=t.heard,r=0,i=0,o=Object.values(a).concat(Object.values(n)),s=!0,l=!1,d=void 0;try{for(var c,u=o[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var p=c.value;p.hasOwnProperty("min")&&p.hasOwnProperty("max")&&(r+=p.min,i+=p.max)}}catch(m){l=!0,d=m}finally{try{s||null==u.return||u.return()}finally{if(l)throw d}}return 0===r?"":"".concat(r," - ").concat(i)}return""},enterCountMetadata:function(){this.$emit("view-change","CountMetadata")}}},C=k,S=(a("1f94"),Object(h["a"])(C,b,g,!1,null,"64ace440",null)),_=S.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal wrapper"},[a("div",{staticClass:"overlay"}),a("div",{staticClass:"modal-content"},[a("div",{staticClass:"bird-info"},[a("div",{staticClass:"img-wrapper"},[e.currentBird.img?a("img",{attrs:{src:"images/known-bird-imgs/"+e.currentBird.img}}):e._e()]),a("span",{staticClass:"title"},[e._v(e._s(e.currentBird.name))]),a("button",{staticClass:"close icon",on:{click:e.closeModal}},[a("img",{attrs:{src:"images/icons/close.svg"}})])]),a("div",{staticClass:"seen-heard-btns"},[a("button",{class:{active:"seen"===e.birdSeenOrHeard},on:{click:function(t){return e.seenOrHeard("seen")}}},[e._m(0),e._v(" Seen ")]),a("button",{class:{active:"heard"===e.birdSeenOrHeard},on:{click:function(t){return e.seenOrHeard("heard")}}},[e._m(1),e._v(" Heard ")])]),e.birdSeenOrHeard?a("div",{staticClass:"counter"},[e._m(2),a("DistanceCountRow",{attrs:{type:e.birdSeenOrHeard,distance:"close",distanceEndsInMeters:"5m",min:e.currentBirdData[e.birdSeenOrHeard]["close"]["min"],max:e.currentBirdData[e.birdSeenOrHeard]["close"]["max"]}}),a("DistanceCountRow",{attrs:{type:e.birdSeenOrHeard,distance:"near",distanceEndsInMeters:"20m",min:e.currentBirdData[e.birdSeenOrHeard]["near"]["min"],max:e.currentBirdData[e.birdSeenOrHeard]["near"]["max"]}}),a("DistanceCountRow",{attrs:{type:e.birdSeenOrHeard,distance:"mid",distanceEndsInMeters:"80m",min:e.currentBirdData[e.birdSeenOrHeard]["mid"]["min"],max:e.currentBirdData[e.birdSeenOrHeard]["mid"]["max"]}}),a("DistanceCountRow",{attrs:{type:e.birdSeenOrHeard,distance:"far",distanceEndsInMeters:"320m",min:e.currentBirdData[e.birdSeenOrHeard]["far"]["min"],max:e.currentBirdData[e.birdSeenOrHeard]["far"]["max"]}}),a("DistanceCountRow",{attrs:{type:e.birdSeenOrHeard,distance:"distant",min:e.currentBirdData[e.birdSeenOrHeard]["distant"]["min"],max:e.currentBirdData[e.birdSeenOrHeard]["distant"]["max"]}}),a("label",{attrs:{for:"notes"}},[e._v("Notes")]),a("textarea",{attrs:{id:"notes"},on:{blur:e.addNotes}})],1):e._e()]),a("div",{staticClass:"footer"},[a("button",{on:{click:e.closeModal}},[e._m(3),e._v(" Back to bird list ")])])])},O=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon"},[a("img",{attrs:{src:"images/icons/eye.svg"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon"},[a("img",{attrs:{src:"images/icons/ear.svg"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"distance"}),a("div",{staticClass:"min"},[e._v(" Minimum ")]),a("div",{staticClass:"max"},[e._v(" Maximum ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon"},[a("img",{attrs:{src:"images/icons/arrow-back.svg"}})])}],D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"distance"},[a("span",{staticClass:"distance-title"},[e._v(e._s(e.distance))]),a("span",{staticClass:"distance-ends"},[e._v(e._s(e.distanceEndsInMeters))])]),a("div",{staticClass:"min"},["button"===e.minState?a("button",{on:{touchstart:function(t){return e.startTimer("min")},click:function(t){return e.addBirdObservation(e.distance,"min",e.min+1)}}},[e._v(" "+e._s(e.min)+" ")]):a("input",{ref:"inputField",attrs:{type:"number"},domProps:{value:e.min},on:{blur:function(t){e.minState="button"},change:function(t){return e.updateValue(t,"min")},keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.minState="button"}}})]),a("div",{staticClass:"max"},["button"===e.maxState?a("button",{on:{touchstart:function(t){return e.startTimer("max")},click:function(t){return e.addBirdObservation(e.distance,"max",e.max+1)}}},[e._v(" "+e._s(e.max)+" ")]):a("input",{ref:"inputField",attrs:{type:"number"},domProps:{value:e.max},on:{blur:function(t){e.maxState="button"},change:function(t){return e.updateValue(t,"max")},keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.maxState="button"}}})])])},x=[],M=(a("a9e3"),{name:"DistanceCountRow",props:{type:{type:String,required:!0},distance:{type:String,required:!0},distanceEndsInMeters:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0}},data:function(){return{longPressTimer:null,minState:"button",maxState:"button"}},methods:{addBirdObservation:function(e,t,a){this.$parent.$emit("add-bird-observation",this.type,e,t,a)},startTimer:function(e){var t=this,a=function e(){clearTimeout(t.longPressTimer),window.removeEventListener("mouseup",e)};this.longPressTimer=setTimeout((function(){"min"===e?t.minState="input":t.maxState="input",window.removeEventListener("mouseup",a)}),700),window.addEventListener("mouseup",a)},updateValue:function(e,t){this.addBirdObservation(this.distance,t,Number(e.target.value))}},updated:function(){this.$refs.inputField&&(this.$refs.inputField.focus(),this.$refs.inputField.select())}}),A=M,T=(a("e590"),Object(h["a"])(A,D,x,!1,null,"1f5d488c",null)),P=T.exports,E={name:"BirdModal.vue",components:{DistanceCountRow:P},props:{currentBird:{type:Object,required:!0},birdData:{type:Object,required:!0}},data:function(){return{birdSeenOrHeard:null}},methods:{seenOrHeard:function(e){this.birdSeenOrHeard=e},closeModal:function(){this.$emit("view-change","BirdCount")},addNotes:function(e){this.$emit("add-observation-notes",e.target.value,this.birdSeenOrHeard)}},computed:{currentBirdData:{get:function(){return this.birdData[this.currentBird.name]}}}},N=E,I=(a("a63d"),Object(h["a"])(N,B,O,!1,null,"680698e1",null)),j=I.exports,L={metadata:{},observedBirds:{}},F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal wrapper"},[a("h1",[e._v("Time's up!")]),a("p",[e._v("Five minutes elapsed")]),a("button",{on:{click:e.enterCountMetadata}},[e._v("Enter count metadata")]),a("button",{staticClass:"link",on:{click:e.continueCount}},[e._v(" Finish entering observation data ")])])},V=[],H={name:"FiveMinutesElapsed",methods:{enterCountMetadata:function(){this.$emit("view-change","CountMetadata")},continueCount:function(){this.$emit("continue-count","")}}},W=H,R=(a("aaaa"),Object(h["a"])(W,F,V,!1,null,"dd7ae5ec",null)),$=R.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[e._m(0),a("div",{staticClass:"content"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.addMetadata(t)}}},[a("div",{staticClass:"field-wrapper"},[a("label",{attrs:{for:"temperature"}},[e._v(" Temperature ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.temperature,expression:"temperature"}],attrs:{id:"temperature"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.temperature=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}}),e._l(e.temperatureValues,(function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.label))])}))],2)]),a("div",{staticClass:"field-wrapper"},[a("label",{attrs:{for:"wind"}},[e._v(" Wind ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.wind,expression:"wind"}],attrs:{id:"wind"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.wind=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}}),e._l(e.windValues,(function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.label))])}))],2)]),a("div",{staticClass:"field-wrapper"},[a("label",{attrs:{for:"noise"}},[e._v(" Noise ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.noise,expression:"noise"}],attrs:{id:"noise"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.noise=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}}),e._l(e.noiseValues,(function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.label))])}))],2)]),a("div",{staticClass:"field-wrapper"},[a("label",{attrs:{for:"sun"}},[e._v(" Sun (in minutes) ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.sun,expression:"sun"}],attrs:{id:"sun"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sun=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}}),e._l(e.sunValues,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],2)]),a("div",{staticClass:"field-wrapper"},[a("label",{attrs:{for:"precipitation-type"}},[e._v(" Precipitation type ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.precipitationType,expression:"precipitationType"}],attrs:{id:"precipitation-type"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.precipitationType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}}),e._l(e.precipitationTypeValues,(function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.label))])}))],2)]),e.precipitationType&&"N"!==e.precipitationType?a("div",{staticClass:"field-wrapper"},[a("label",{attrs:{for:"precipitation-value"}},[e._v(" Precipitation value ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.precipitationValue,expression:"precipitationValue"}],attrs:{id:"precipitation-value"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.precipitationValue=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}}),e._l(e.precipitationValueValues,(function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.label))])}))],2)]):e._e(),a("div",{staticClass:"field-wrapper"},[a("label",{attrs:{for:"notes"}},[e._v("Notes")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.notes,expression:"notes"}],attrs:{id:"notes"},domProps:{value:e.notes},on:{input:function(t){t.target.composing||(e.notes=t.target.value)}}})]),a("button",{staticClass:"primary",attrs:{type:"submit",disabled:!e.formIsValid}},[e._v(" Finish count ")])])])])},q=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("span",{staticClass:"title"},[e._v("Add bird count metadata")])])}],Z={name:"CountMetadata",data:function(){return{temperature:null,wind:null,noise:null,sun:null,precipitationType:null,precipitationValue:null,notes:null,temperatureValues:[{value:1,label:"Freezing (below 0 °C)"},{value:2,label:"Cold (0-5 °C)"},{value:3,label:"Cool (6-10 °C)"},{value:4,label:"Mild (11-15 °C)"},{value:5,label:"Warm (16-22 °C)"},{value:6,label:"Hot (more than 22 °C)"}],windValues:[{value:0,label:"Leaves still or move without noise"},{value:1,label:"Leaves rustle"},{value:2,label:"Leaves and branches in constant motion"},{value:3,label:"Branches or trees sway"}],noiseValues:[{value:0,label:"Not important"},{value:1,label:"Moderate"},{value:2,label:"Loud"}],sunValues:[1,2,3,4,5],precipitationTypeValues:[{value:"N",label:"None"},{value:"M",label:"Mist"},{value:"R",label:"Rain"},{value:"H",label:"Hail"},{value:"S",label:"Snow"}],precipitationValueValues:[{value:0,label:"None"},{value:1,label:"Dripping foliage"},{value:2,label:"Drizzle"},{value:3,label:"Light"},{value:4,label:"Moderate"},{value:5,label:"Heavy"}]}},methods:{addMetadata:function(){null===this.precipitationValue&&(this.precipitationValue="N");var e={temperature:this.temperature,wind:this.wind,noise:this.noise,sun:this.sun,precipitationType:this.precipitationType,precipitationValue:this.precipitationValue};this.notes&&(e.notes=this.notes),this.$emit("finish-count",e)}},computed:{formIsValid:{get:function(){var e=!1;return null!==this.temperature&&""!==this.temperature&&null!==this.wind&&""!==this.wind&&null!==this.noise&&""!==this.noise&&null!==this.sun&&""!==this.sun&&null!==this.precipitationType&&""!==this.precipitationType&&("N"===this.precipitationType||null!==this.precipitationValue&&""!==this.precipitationValue)&&(e=!0),e}}}},K=Z,J=(a("7880"),Object(h["a"])(K,G,q,!1,null,"5903da7e",null)),Y=J.exports,z=a("21a6");a("6dfc");function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}n["a"].component("v-select",d.a);var X=n["a"].extend({name:"app",data:function(){return{currentDateAndTime:null,countStartDateAndTime:null,fiveMinutesElapsed:!1,continuedAfterFiveMinutes:!1,enteringBirdData:!1,timeElapsed:"00:00",countData:L,state:"SetupCount",currentBird:null}},components:{CountMetadata:Y,FiveMinutesElapsed:$,SetupCount:f,BirdCount:_,BirdModal:j},methods:{changeView:function(e,t){t?(this.enteringBirdData=!0,this.addOrEditBird(t)):(this.enteringBirdData=!1,this.state=e)},addSetupInfo:function(e,t,a,n){this.countStartDateAndTime=new Date,this.countData.metadata.date=e,this.countData.metadata.time=t,this.countData.metadata.duration=a,this.countData.metadata.location=n,this.saveToLocalStorage()},addOrEditBird:function(e){this.countData.observedBirds[e.name]||n["a"].set(this.countData.observedBirds,e.name,{birdName:e.name,seen:{close:{min:0,max:0},near:{min:0,max:0},mid:{min:0,max:0},far:{min:0,max:0},distant:{min:0,max:0}},heard:{close:{min:0,max:0},near:{min:0,max:0},mid:{min:0,max:0},far:{min:0,max:0},distant:{min:0,max:0}}}),this.currentBird=e},addObservation:function(e,t,a,n){var r=this.countData.observedBirds[this.currentBird.name][e][t]["min"],i=this.countData.observedBirds[this.currentBird.name][e][t]["max"];"min"===a&&i<=r?(this.countData.observedBirds[this.currentBird.name][e][t]["min"]=n,this.countData.observedBirds[this.currentBird.name][e][t]["max"]=n):"max"===a&&0===r?(this.countData.observedBirds[this.currentBird.name][e][t]["min"]=1,this.countData.observedBirds[this.currentBird.name][e][t]["max"]=n):this.countData.observedBirds[this.currentBird.name][e][t][a]=n,"min"===a&&0===n&&(this.countData.observedBirds[this.currentBird.name][e][t]["max"]=0),"max"===a&&0===n&&(this.countData.observedBirds[this.currentBird.name][e][t]["min"]=0),this.saveToLocalStorage()},addObservationNotes:function(e,t){this.countData.observedBirds[this.currentBird.name][t].notes=e,this.saveToLocalStorage()},continueCount:function(){this.continuedAfterFiveMinutes=!0},clearEmptyObservations:function(){for(var e=0,t=Object.entries(this.countData.observedBirds);e<t.length;e++){var a=Object(s["a"])(t[e],2),r=a[0],i=a[1],o=i.seen,l=i.heard,d=0,c=0,u=Object.values(o).concat(Object.values(l)),p=!0,m=!1,h=void 0;try{for(var v,f=u[Symbol.iterator]();!(p=(v=f.next()).done);p=!0){var b=v.value;b.hasOwnProperty("min")&&b.hasOwnProperty("max")&&(d+=b.min,c+=b.max)}}catch(g){m=!0,h=g}finally{try{p||null==f.return||f.return()}finally{if(m)throw h}}0===d&&0===c&&n["a"].delete(this.countData.observedBirds,r)}},saveToLocalStorage:function(){var e="".concat(this.countData.metadata.location,"_").concat(this.countData.metadata.date,"_").concat(this.countData.metadata.time),t=JSON.stringify(this.countData,null,"\t");localStorage.setItem(e,t)},finishCount:function(e){this.countData.metadata=Q({},this.countData.metadata,{},e),this.clearEmptyObservations(),this.saveToLocalStorage();var t=window.localStorage.getItem("".concat(this.countData.metadata.location,"_").concat(this.countData.metadata.date,"_").concat(this.countData.metadata.time)),a=new File([t],"".concat(this.countData.metadata.location,"_").concat(this.countData.metadata.date.replace(/\//g,"-"),"_").concat(this.countData.metadata.time.replace(/:/g,"-"),".json"),{type:"text/plain;charset=utf-8"});Object(z["saveAs"])(a),this.resetCount()},resetCount:function(){window.location.reload()}},created:function(){var e=this;this.currentDateAndTime=new Date,setInterval((function(){if(e.currentDateAndTime=new Date,null!==e.countStartDateAndTime){var t=3e5,a=e.currentDateAndTime-e.countStartDateAndTime,n=new Date(a),r=String(n.getUTCMinutes()).padStart(2,"0"),i=String(n.getUTCSeconds()).padStart(2,"0");e.timeElapsed=r+":"+i,a>=t&&!0!==e.continuedAfterFiveMinutes&&(e.fiveMinutesElapsed=!0)}}),1e3)}}),ee=X,te=(a("8e98"),Object(h["a"])(ee,r,i,!1,null,"6ce197d7",null)),ae=te.exports,ne=(a("33f6"),a("9483"));Object(ne["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(ae)}}).$mount("#app")},"6ef2":function(e){e.exports=JSON.parse('[{"img":"bellbird.png","name":"Bellbird"},{"img":"blackbird.png","name":"Blackbird"},{"img":"chaffinch.png","name":"Chaffinch"},{"img":"fantail.png","name":"Fantail"},{"img":"goldfinch.png","name":"Goldfinch"},{"img":"greenfinch.png","name":"Greenfinch"},{"img":"grey-warbler.png","name":"Grey warbler"},{"img":"kakariki.png","name":"Kakariki"},{"img":"redpoll.png","name":"Redpoll"},{"img":"rifleman.png","name":"Rifleman"},{"img":"starling.png","name":"Starling"},{"img":"song-thrush.png","name":"Song thrush"},{"img":"south-island-robin.png","name":"South island robin"},{"img":"tomtit.png","name":"Tomtit"}]')},7880:function(e,t,a){"use strict";var n=a("aa6a"),r=a.n(n);r.a},"8e98":function(e,t,a){"use strict";var n=a("ccff"),r=a.n(n);r.a},a63d:function(e,t,a){"use strict";var n=a("54e1"),r=a.n(n);r.a},aa6a:function(e,t,a){},aaaa:function(e,t,a){"use strict";var n=a("0599"),r=a.n(n);r.a},ccff:function(e,t,a){},cf9a:function(e,t,a){},dfba:function(e,t,a){},e590:function(e,t,a){"use strict";var n=a("edcf"),r=a.n(n);r.a},edcf:function(e,t,a){}});
//# sourceMappingURL=app.54dc2ef0.js.map